exports.DateTime = {
  fromObject({ year, month, day, hour = 0, minute = 0 }, { zone }) {
    const utc = new Date(Date.UTC(year, month - 1, day, hour, minute));
    const dtf = new Intl.DateTimeFormat('en-US', {
      timeZone: zone,
      hour12: false,
      year: 'numeric',
      month: '2-digit',
      day: '2-digit',
      hour: '2-digit',
      minute: '2-digit',
      second: '2-digit',
    });
    const parts = dtf.formatToParts(utc);
    const vals = {};
    for (const { type, value } of parts) {
      if (type !== 'literal') vals[type] = value;
    }
    const local = new Date(
      `${vals.year}-${vals.month}-${vals.day}T${vals.hour}:${vals.minute}:${vals.second}Z`
    );
    return { offset: (local - utc) / 60000 };
  },
};
